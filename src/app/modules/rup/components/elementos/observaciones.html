<form #form="ngForm">
    <ng-container *ngIf="!soloValores">
        <plex-text label="Observaciones" [html]="true" [(ngModel)]="registro.valor" name="observaciones"
                   placeholder="Ingrese una observación" (change)="emitChange()" [required]="params?.required"
                   *ngIf="afterInit && !fullscreen" rup-text-modal></plex-text>
    </ng-container>
    <p *ngIf="soloValores" class="readonly">
        <label for="observaciones" *ngIf="!params">
            Observaciones
        </label>
        <ng-container *ngIf="registro?.evoluciones?.length">
            <span [innerHTML]="registro?.evoluciones[0].valor"></span>
        </ng-container>
        <ng-container *ngIf="registro?.valor">
            <span [innerHTML]="registro?.valor"></span>
        </ng-container>
    </p>
</form>
<plex-modal *ngIf="fullscreen" [startOpen]="true" (closed)="onClose()" [allowClose]="true">
    <plex-modal-title type="info"> {{ registro.concepto.term }} </plex-modal-title>
    <main>
        <plex-text label="Observaciones" [html]="true" [(ngModel)]="registro.valor" name="observaciones"
                   placeholder="Ingrese una observación" (change)="emitChange()" [required]="params?.required"
                   *ngIf="afterInit" [height]="500"></plex-text>
    </main>
</plex-modal>