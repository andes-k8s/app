<form #formIngreso="ngForm">
    <ng-container *ngIf="!soloValores">
        <section>
            <div class="row">
                <div class="col-12">
                    <plex-box>
                        <div *ngIf="paciente">
                            <fieldset>
                                <legend class="text-info">Datos de ingreso</legend>
                                <br>
                                <h5>Paciente:</h5>
                                <h5>{{ paciente.apellido }}, {{ paciente.nombre }}</h5>
                            </fieldset>
                            <div class="row">
                                <div class="col" *ngIf="!soloValores">
                                    <carpeta-paciente [pacienteSeleccionado]="paciente" (guardarCarpetaEmit)="afterComponenteCarpeta($event)" (cancelarCarpetaEmit)="afterComponenteCarpeta($event) ">
                                    </carpeta-paciente>
                                </div>
                                <div class="col" *ngIf="showEditarCarpetaPaciente">
                                    <plex-text [(ngModel)]="carpetaPaciente" labelField=""></plex-text>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6">
                                    <plex-datetime *ngIf="!soloValores" type="datetime" [(ngModel)]="informeIngreso.fechaIngreso" [required]="true" [autoFocus]="autoFocus "
                                        name="fechaIngreso " label="Fecha Ingreso">
                                    </plex-datetime>
                                </div>
                                <div class="col-6">
                                    <plex-select *ngIf="!soloValores" [required]="true" [(ngModel)]="informeIngreso.origen" name="origen" [data]="origenHospitalizacion"
                                        placeholder="Seleccione..." label="Origen hospitalización" idField="nombre" labelField="nombre">
                                    </plex-select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <plex-select *ngIf="!soloValores" label="Profesional" [(ngModel)]="informeIngreso.profesional" name="profesional" (getData)="loadProfesionales($event)"
                                        labelField="apellido+' '+nombre">
                                    </plex-select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-6" *ngIf="situacionesLaborales">
                                    <plex-select *ngIf="!soloValores" [required]="true" label=" Situación laboral " [(ngModel)]="informeIngreso.situacionLaboral"
                                        name="situacionLaboral" [data]="situacionesLaborales" placeholder="Seleccione... " idField="nombre"
                                        labelField="nombre">
                                    </plex-select>
                                </div>
                                <div class="col-6 ">
                                    <plex-select *ngIf="!soloValores" [required]="true" label="Ocupación habitual " [(ngModel)]="informeIngreso.ocupacionHabitual"
                                        name="ocupacionHabitual" [data]="ocupaciones" placeholder="Seleccione... " idField="nombre"
                                        labelField="nombre">
                                    </plex-select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-4 ">
                                    <plex-select *ngIf="!soloValores" [required]="true" [(ngModel)]="informeIngreso.nivelInstruccion" name="nivelInstruccion"
                                        [data]="nivelesInstruccion" placeholder="Seleccione..." label="Nivel instrucción" idField="nombre"
                                        labelField="nombre">
                                    </plex-select>
                                </div>
                                <div class="col-4 ">
                                    <plex-select *ngIf="!soloValores" [required]="true" [(ngModel)]="informeIngreso.asociado" name="asociado" [data]="pacienteAsociado"
                                        placeholder="Seleccione... " label="Asociado a" idField="nombre" labelField="nombre">
                                    </plex-select>
                                </div>
                                <div class="col-4 ">
                                    <plex-text *ngIf="!soloValores" [(ngModel)]="obraSocial.nombre" label="Obra Social" name="obraSocial" [readonly]="true"></plex-text>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col">
                                    <plex-text *ngIf="!soloValores" label="Motivo de Internación" name="motivo" multiline="true" [(ngModel)]="informeIngreso.motivo">
                                    </plex-text>
                                </div>
                            </div>
                            <div class="row">&nbsp;</div>
                        </div>
                    </plex-box>
                </div>
            </div>
        </section>


    </ng-container>
    <!-- SoloValores -->
    <ng-container *ngIf="soloValores">

        <ng-container *ngIf="paciente">
            <fieldset>
                <legend class="text-info">Datos de ingreso</legend>
                <br>
                <h5>Paciente:</h5>
                <h5>{{ paciente.apellido }}, {{ paciente.nombre }}</h5>
                <div class="row">
                    <div class="col" *ngIf="showEditarCarpetaPaciente">
                        <plex-text [(ngModel)]="carpetaPaciente" labelField=""></plex-text>
                    </div>
                </div>
            </fieldset>
            <div class="row">
                <div class="col-6">
                    <b>Fecha Ingreso:</b> {{informeIngreso.fechaIngreso | fecha}}
                </div>
                <div class="col-6">
                    <b>Origen Hospitalización:</b> {{informeIngreso.origen}}
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <b>Profesional:</b> {{informeIngreso.profesional.nombreCompleto}}
                </div>
            </div>
            <div class="row">
                <div class="col-6" *ngIf="situacionesLaborales">
                    <b>Situacion Laboral:</b> {{informeIngreso.situacionLaboral}}
                </div>
                <div class="col-6 ">
                    <b>Ocupación Habitual:</b> {{informeIngreso.ocupacionHabitual}}
                </div>
            </div>
            <div class="row">
                <div class="col-4 ">
                    <b>Nivel Instrucción:</b> {{informeIngreso.nivelInstruccion}}
                </div>
                <div class="col-4 ">
                    <b>Asociado a:</b> {{informeIngreso.asociado}}
                </div>
                <div class="col-4 ">
                    <b>Obra Social:</b> {{obraSocial.nombre}}
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <b>Motivo:</b> {{informeIngreso.motivo}}
                </div>
            </div>
        </ng-container>


    </ng-container>
    <!--Footer-->

    <footer *ngIf="!buscandoPaciente && !soloValores">
        <div class="float-right">
            <plex-button type="danger " label="VOLVER" (click)="cancelar() ">
            </plex-button>
            <plex-button label="{{btnIniciarGuardar}}" *ngIf="paciente " validateForm="true " type="success " (click)="guardar($event) ">
            </plex-button>
        </div>
    </footer>
</form>