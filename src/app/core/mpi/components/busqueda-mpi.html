<plex-layout main="8">
    <plex-layout-main>
        <fieldset>
            <div class="row">
                <div class="col">
                    <paciente-buscar (searchStart)="searchStart()" (searchEnd)="searchEnd($event.pacientes,$event.escaneado)"
                        (searchEndScan)="searchEndScan($event.paciente,$event.escaneado)" (searchClear)="onSearchClear()"></paciente-buscar>
                </div>
            </div>

            <mpi-botones-registro (seleccion)="nuevoRegistro($event)"></mpi-botones-registro>
            <plex-loader *ngIf="loading" type="ball-pulse"></plex-loader>

            <div class="row">
                <div class="col">
                    <paciente-listado *ngIf="resultadoBusqueda && resultadoBusqueda.length" [pacientes]="resultadoBusqueda"
                        [autoselect]="false" (selected)="onPacienteSelected($event)"></paciente-listado>
                    <div *ngIf="resultadoBusqueda && !resultadoBusqueda.length && !searchClear" class="alert alert-danger">
                        <i class="mdi mdi-account-alert"></i> No se encontró ningún paciente..
                    </div>
                </div>
            </div>
        </fieldset>
    </plex-layout-main>

    <plex-layout-sidebar>
        <fieldset>
            <legend>Búsquedas recientes</legend>
            <div class="row">
                <div class="col">
                    <paciente-listado type="sm" [pacientes]="busquedasRecientes" [autoselect]="false" (selected)="onPacienteSelected($event)"></paciente-listado>
                </div>
            </div>
        </fieldset>
    </plex-layout-sidebar>

</plex-layout>