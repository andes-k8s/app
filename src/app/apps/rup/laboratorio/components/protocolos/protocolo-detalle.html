<div class="row" *ngIf="edicionDatosCabecera && seleccionPaciente" style="display: block">
    <div class="col-12">
        <label>Paciente</label>
        <pacientesSearch [bloquearCreate]="true" [modoCompleto]="false" [hideFooter]="true" (selected)="seleccionarPaciente($event)">
        </pacientesSearch>
    </div>
</div>

<ng-container *ngIf="edicionDatosCabecera && !seleccionPaciente">
    <div class="row d-inline">
        <div class="col-12">
            <span *ngIf='solicitudProtocolo.solicitudPrestacion.numeroProtocolo' class="badge badge-success" style='float: left; margin-right: 20px; margin-top: 10px;'>
                <h2>{{solicitudProtocolo.solicitudPrestacion.numeroProtocolo?.numeroCompleto}}</h2>
            </span>
            <ng-container>
                <div class="row">

                    <div class="col">
                        <h2>{{modelo.paciente.documento}} - {{modelo.paciente.apellido}}, {{modelo.paciente.nombre}}</h2>
                        F. Nac.: {{modelo.paciente.fechaNacimiento | date: 'dd/MM/yyyy' }}, Sexo:
                        {{modelo.paciente.sexo}}
                    </div>
                    <div class="col-2">
                        <plex-button position="left" type="warning" (click)="cambiarPaciente()">Cambiar Paciente</plex-button>
                    </div>
                </div>
            </ng-container>
        </div>
    </div>
</ng-container>

<!--FIN SECCION PACIENTE-->

<!-- SECCION PROTOCOLO -->
<ng-container *ngIf="showProtocoloDetalle && !seleccionPaciente">
    <!-- ENCABEZADO DE PROTOCOLO -->
    <protocolo-encabezado [modo]="modo" [protocolo]="modelo" [edicionDatosCabecera]="edicionDatosCabecera"
        (siguienteEmit)='siguiente()' (anteriorEmit)='anterior()'></protocolo-encabezado>
    <!-- FIN ENCABEZADO DE PROTOCOLO -->
</ng-container>
<ng-container *ngIf='mostrarCuerpoProtocolo'>
    <plex-tabs>
        <plex-tab label="AnÃ¡lisis">

            <div class="row">
                <div class="col">
                    <tabla-datalle-protocolo [modo]="modo" [modelo]="modelo" [solicitudProtocolo]="solicitudProtocolo"
                        [practicasEjecucion]="practicasEjecucion" [practicasCarga]="practicasCarga" [areas]="areas">
                    </tabla-datalle-protocolo>
                </div>
            </div>

        </plex-tab>
        <plex-tab *ngIf='modo ==="recepcion" || modo ==="control"' label="Diagnostico">
            <div class="row">
                <div class="col-12">
                    <plex-text [(ngModel)]="solicitudProtocolo.solicitudPrestacion.diagnostico" label="Diagnostico"
                        name="diagnostico" multiline="true"></plex-text>
                </div>
            </div>
        </plex-tab>
        <plex-tab label="Incidencias"></plex-tab>
    </plex-tabs>
    <!--OBSERVACIONES - RECEPCION-->
    <div class="row">
        <div *ngIf="modo === 'recepcion' || modo==='control' || modo==='carga'" class="col-12">
            <plex-text [(ngModel)]="solicitudProtocolo.solicitudPrestacion.observaciones" label="Observaciones internas"
                name="observaciones" multiline="true">
            </plex-text>
        </div>
        <div *ngIf="modo === 'validacion'" class="col-12">
            <b> {{solicitudProtocolo.solicitudPrestacion.observaciones}} </b>
        </div>
    </div>
</ng-container>
<!--FIN SECCION PRTOCOLO -->
