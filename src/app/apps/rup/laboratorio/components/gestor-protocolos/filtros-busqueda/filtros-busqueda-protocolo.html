<div class="filtros-container ml-1" *ngIf='modo.nombre === "carga" || modo.nombre === "validacion"'>
    <span>
        <plex-radio [data]="modoCargaLaboratorioEnum" label="Modo de carga" (change)="cambiarModoCarga($event)"
            [(ngModel)]="modoCargaLaboratorio" type="horizontal"></plex-radio>
    </span>
    <span *ngIf='showSelectArea'>
        <plex-select [(ngModel)]="busqueda.area " (change)="onChangeSelectArea($event)" name="area" label="Área" [data]='areas'></plex-select>
    </span>
    <span *ngIf='showSelectHojaTrabajo'>
        <plex-select [(ngModel)]="hojaTrabajo" (change)="buscarProtocolos($event,'hojaTrabajo')" name="hojadetrabajo"
            label="Hoja de Trabajo" [data]='hojasTrabajo' labelField="nombre"></plex-select>
    </span>
    <span *ngIf='showSelectPracticas'>
        <plex-select [(ngModel)]="busqueda.practicas" (change)="buscarProtocolos($event,'practicas')" name="practicas"
            label="Prácticas" [data]='practicasFiltro' labelField="nombre" multiple="true" ></plex-select>
    </span>
</div>
<div class="filtros-container {{ modo.nombre }}">
    <span>
        <plex-datetime type="date" [(ngModel)]="busqueda.solicitudDesde" (change)="buscarProtocolos($event,'fechaDesde')"
            name="solicitudDesde" label="Fecha desde" [required]="true" skipBy="day">
        </plex-datetime>
    </span>
    <span>
        <plex-datetime type="date" [(ngModel)]="busqueda.solicitudHasta" (change)="buscarProtocolos($event,'fechaHasta')"
            name="solicitudHasta" label="Fecha hasta" [required]="true" skipBy="day">
        </plex-datetime>
    </span>
    <span *ngIf='modo.nombre !== "recepcion" && !showSelectArea'>
        <plex-select [(ngModel)]="busqueda.area" (change)="buscarProtocolos($event,'area')" name="area" label="Área"
            [data]='areas'></plex-select>
    </span>
    <span>
        <plex-select [(ngModel)]="busqueda.prioridad" (change)="buscarProtocolos($event,'prioridad')" name="prioridad"
            label="Prioridad" [data]="prioridadesFiltroEnum"></plex-select>
    </span>
    <span>
        <plex-select [(ngModel)]="busqueda.origen" (change)="buscarProtocolos($event,'origen')" name="origen" label="Origen"
            [data]="origenEnum"></plex-select>
    </span>
    <div>
        <label for="">Filtros avanzados</label>
        <plex-button type="info" [icon]="mostrarMasOpciones ? 'chevron-up' : 'chevron-down'" (click)="mostrarMasOpciones = !mostrarMasOpciones">
        </plex-button>
    </div>
</div>
<!-- FIN FILTROS BASICOS  -->

<!-- FILTROS AVANZADOS-->
<ng-container *ngIf="mostrarMasOpciones">
    <div class="filtros-container">
        <span>
            <plex-select [(ngModel)]="paciente" name="paciente" (getData)="loadPacientes($event)" (change)="buscarProtocolos($event,'paciente')"
                label="Paciente" placeholder="Ingrese paciente" labelField="nombre + ' ' + apellido" [required]="false"></plex-select>
        </span>

        <span *ngIf='modo.nombre ==="carga"'>
            <plex-select [(ngModel)]="servicio" name="servicio" (getData)="loadServicios($event)" (change)="buscarProtocolos($event,'servicio')"
                label="Servicio" placeholder="Seleccione el servicio" labelField="term" [multiple]="true" [required]="false"
                idField="term">
            </plex-select>
        </span>
        <span *ngIf='modo.nombre !== "carga" && modo.nombre !== "recepcion"'>
            <plex-select [(ngModel)]="servicios" name="servicio" (getData)="loadServicios($event)" (change)="buscarProtocolos($event,'servicio')"
                label="Servicio" placeholder="Seleccione el servicio" labelField="term" [required]="false" idField="term"
                [multiple]=true>
            </plex-select>
        </span>
        <ng-container *ngIf='modo.nombre !== "recepcion"'>
            <span>
                <plex-float [(ngModel)]="busqueda.numProtocoloDesde" (change)="buscarProtocolos($event,'numProtocoloDesde')"
                    name="numProtocoloDesde" label="N° protocolo desde"></plex-float>
            </span>
            <span>
                <plex-float [(ngModel)]="busqueda.numProtocoloHasta" (change)="buscarProtocolos($event,'numProtocoloHasta')"
                    name="numProtocoloHasta" label="N° protocolo hasta"></plex-float>
            </span>
            <span>
                <plex-select [(ngModel)]="organizacion" (change)="buscarProtocolos($event,'organizacion')" name="organizacion"
                    label="Efector Solicitante" (getData)="loadOrganizaciones($event)"></plex-select>
            </span>
            <span *ngIf='modo.nombre ==="listado"'>
                <plex-select [(ngModel)]="estado" (change)="buscarProtocolos($event,'estado')" name="estado" label="Estado"
                    [data]="estadosFiltroEnum"></plex-select>
            </span>
        </ng-container>
    </div>
</ng-container>
<br>
<hr>

<!-- FIN FILTROS AVANZADOS-->
