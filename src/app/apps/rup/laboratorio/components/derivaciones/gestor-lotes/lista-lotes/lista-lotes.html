<table *ngIf='lotes' class="table able-striped table-sm">
    <thead>
        <th></th>
        <th>Nro. de Lote</th>
        <th>Fecha</th>
        <th>Laboratorio de Destino</th>
        <th>Apellidos y Nombres</th>
        <th>Estado</th>
        <th>Acci√≥n</th>
    </thead>
    <tbody>
        <tr class="hover" *ngFor="let lote of lotes">
            <td>
                <!-- <plex-bool type="checkbox" [(ngModel)]='valoresCheckboxes[registro._id].value' (change)="onCheckboxChange($event, lote, registro)" name="validarTodos"></plex-bool> -->
            </td>
            <td>{{ lote.id }}</td>
            <td>{{ lote.fecha | fecha }}</td>
            <td>{{ lote.laboratorioDestino.nombre }}</td>
            <ng-container *ngIf="lote.estados[lote.estados.length - 1].tipo === 'preparado'">
                <td></td>
                <td> <plex-badge type="warning">{{lote.estados[lote.estados.length - 1 ].tipo}}</plex-badge></td>
                <td>
                    <plex-button type="info" title="Enviar lote" label="Enviar lote" (click)="enviarLote(lote)" type="primary btn-sm" >
                    </plex-button>
                </td>
            </ng-container>
            <ng-container *ngIf="lote.estados[lote.estados.length - 1].tipo !== 'preparado'">
                <td></td>
                <td> <plex-badge type="info">{{lote.estados[lote.estados.length - 1].tipo}}</plex-badge></td>
                <td>
                </td>
            </ng-container>
            
            <!-- <td>{{lote.paciente.documento}}</td> -->
            <!-- <td>{{lote.paciente.apellido}} {{lote.paciente.nombre}}</td> -->
        </tr>
    </tbody>
</table>